var m=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var a=(e,t,r)=>(m(e,t,"read from private field"),r?r.call(e):t.get(e)),h=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},y=(e,t,r,o)=>(m(e,t,"write to private field"),o?o.call(e,r):t.set(e,r),r);import"./assets/styles-f4ff1362.js";import{P as d}from"./assets/vendor-a8d80a71.js";var c,u,l;class M{constructor(){h(this,c,"https://api.unsplash.com/search/photos");h(this,u,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");h(this,l,"")}getPopularsFhotos(t){const r=`${a(this,c)}?query=popular&page=${t}&per_page=12&orientation=portrait&client_id=${a(this,u)}`;return fetch(r).then(o=>{if(!o.ok)throw new Error(o.status);return o.json()}).catch(o=>console.log("error"))}getFhotosByQuery(t){const r=`${a(this,c)}?query=${a(this,l)}&page=${t}&per_page=12&orientation=portrait&client_id=${a(this,u)}`;return fetch(r).then(o=>{if(!o.ok)throw new Error(o.status);return o.json()}).catch(o=>console.log("error"))}set query(t){y(this,l,t)}}c=new WeakMap,u=new WeakMap,l=new WeakMap;function g(e){return e.map(({urls:t,alt_description:r})=>`<li class='gallery__item'><img src='${t.small}' alt='${r}'></li>`).join("")}const _=document.querySelector(".js-search-form"),p=document.querySelector(".js-gallery"),i=new M,$=document.getElementById("tui-pagination-container"),q={totalItems:0,itemsPerPage:12,visiblePages:5,page:1},n=new d($,q),P=n.getCurrentPage();i.getPopularsFhotos(P).then(({results:e,total:t})=>{const r=g(e);n.reset(t),p.innerHTML=r});n.on("afterMove",v);function v(e){const t=e.page;i.getPopularsFhotos(t).then(({results:r,total:o})=>{const s=g(r);p.innerHTML=s})}_.addEventListener("submit",E);function E(e){e.preventDefault();const t=e.target.elements.query.value.trim();t&&(i.query=t,n.off("afterMove",v),n.off("afterMove",f),i.getFhotosByQuery(P).then(({results:r,total:o})=>{if(r.length===0)return;const s=g(r);n.reset(o),p.innerHTML=s}),n.on("afterMove",f))}function f(e){const t=e.page;i.getFhotosByQuery(t).then(({results:r,total:o})=>{const s=g(r);p.innerHTML=s})}
//# sourceMappingURL=commonHelpers.js.map
