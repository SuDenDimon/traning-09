{"version":3,"file":"commonHelpers.js","sources":["../src/js/UnsplashAPI.js","../src/js/createGalleryCard.js","../src/js/gallery.js"],"sourcesContent":["export class UnsplashAPI {\n    #BASE_URL = \"https://api.unsplash.com/search/photos\";\n    #API_KEY = \"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58\";\n    #query = \"\";\n    \n\n    getPopularsFhotos(page) {\n        const url = `${this.#BASE_URL}?query=popular&page=${page}&per_page=12&orientation=portrait&client_id=${this.#API_KEY}`\n\n        return fetch(url).then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        }).catch(err => console.log(\"error\"))\n    };\n    getFhotosByQuery(page) {\n        const url = `${this.#BASE_URL}?query=${this.#query}&page=${page}&per_page=12&orientation=portrait&client_id=${this.#API_KEY}`\n\n        return fetch(url).then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        }).catch(err => console.log(\"error\"))\n    }\nset query(newQuery){this.#query=newQuery}\n}\n","export function createGalleryCard(images) {\n    return images\n      .map(\n        ({ urls, alt_description }) =>\n          `<li class='gallery__item'><img src='${urls.small}' alt='${alt_description}'></li>`\n      )\n      .join('');\n  }","import {UnsplashAPI} from \"./UnsplashAPI\";\nimport { createGalleryCard } from \"./createGalleryCard\";\nimport Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\n\nconst searchForm = document.querySelector(\".js-search-form\")\n\nconst gallery = document.querySelector(\".js-gallery\");\nconst service = new UnsplashAPI();\n\nconst container = document.getElementById('tui-pagination-container');\n\nconst options = { // below default value of options\n    totalItems: 0,\n    itemsPerPage: 12,\n    visiblePages: 5,\n    page: 1,\n}\n\nconst pagination = new Pagination(container, options);\nconst page = pagination.getCurrentPage();\n\nservice.getPopularsFhotos(page).then(({results, total}) => {\n    const markup = createGalleryCard(results);\n    pagination.reset(total);\n    gallery.innerHTML = markup;\n} );\n\npagination.on('afterMove',popular );\nfunction popular (event){\n    const currentPage = event.page;\n    service.getPopularsFhotos(currentPage).then(({results, total}) => {\n        const markup = createGalleryCard(results);\n        gallery.innerHTML = markup;\n    } );\n}\nsearchForm.addEventListener('submit',onSearchPhotos)\n\nfunction onSearchPhotos(event){\nevent.preventDefault()\nconst searchQuery = event.target.elements.query.value.trim();\nif (!searchQuery) return\nservice.query=searchQuery\npagination.off('afterMove',popular );\npagination.off('afterMove',byQuery );\nservice.getFhotosByQuery(page)\n.then(({results, total}) => {\n    if (results.length===0) return;\n    const markup = createGalleryCard(results);\n    \n    pagination.reset(total);\n    gallery.innerHTML = markup;\n} );\npagination.on('afterMove',byQuery );\n}\n\nfunction byQuery (event){\n    const currentPage = event.page;\n    service.getFhotosByQuery(currentPage).then(({results, total}) => {\n        const markup = createGalleryCard(results);\n        gallery.innerHTML = markup;\n    } );\n}"],"names":["UnsplashAPI","__privateAdd","_BASE_URL","_API_KEY","_query","page","url","__privateGet","response","err","newQuery","__privateSet","createGalleryCard","images","urls","alt_description","searchForm","gallery","service","container","options","pagination","Pagination","results","total","markup","popular","event","currentPage","onSearchPhotos","searchQuery","byQuery"],"mappings":"ibAAO,MAAMA,CAAY,CAAlB,cACHC,EAAA,KAAAC,EAAY,0CACZD,EAAA,KAAAE,EAAW,+CACXF,EAAA,KAAAG,EAAS,IAGT,kBAAkBC,EAAM,CACpB,MAAMC,EAAM,GAAGC,EAAA,KAAKL,EAAS,uBAAuBG,CAAI,+CAA+CE,EAAA,KAAKJ,EAAQ,GAEpH,OAAO,MAAMG,CAAG,EAAE,KAAME,GAAa,CACjC,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EAAE,MAAMC,GAAO,QAAQ,IAAI,OAAO,CAAC,CACvC,CACD,iBAAiBJ,EAAM,CACnB,MAAMC,EAAM,GAAGC,EAAA,KAAKL,EAAS,UAAUK,EAAA,KAAKH,EAAM,SAASC,CAAI,+CAA+CE,EAAA,KAAKJ,EAAQ,GAE3H,OAAO,MAAMG,CAAG,EAAE,KAAME,GAAa,CACjC,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EAAE,MAAMC,GAAO,QAAQ,IAAI,OAAO,CAAC,CACvC,CACL,IAAI,MAAMC,EAAS,CAACC,EAAA,KAAKP,EAAOM,EAAQ,CACxC,CA1BIR,EAAA,YACAC,EAAA,YACAC,EAAA,YCHG,SAASQ,EAAkBC,EAAQ,CACtC,OAAOA,EACJ,IACC,CAAC,CAAE,KAAAC,EAAM,gBAAAC,CAAiB,IACxB,uCAAuCD,EAAK,KAAK,UAAUC,CAAe,SAC7E,EACA,KAAK,EAAE,CACd,CCFA,MAAMC,EAAa,SAAS,cAAc,iBAAiB,EAErDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAU,IAAIlB,EAEdmB,EAAY,SAAS,eAAe,0BAA0B,EAE9DC,EAAU,CACZ,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,CACV,EAEMC,EAAa,IAAIC,EAAWH,EAAWC,CAAO,EAC9Cf,EAAOgB,EAAW,iBAExBH,EAAQ,kBAAkBb,CAAI,EAAE,KAAK,CAAC,CAAC,QAAAkB,EAAS,MAAAC,CAAK,IAAM,CACvD,MAAMC,EAASb,EAAkBW,CAAO,EACxCF,EAAW,MAAMG,CAAK,EACtBP,EAAQ,UAAYQ,CACxB,GAEAJ,EAAW,GAAG,YAAYK,GAC1B,SAASA,EAASC,EAAM,CACpB,MAAMC,EAAcD,EAAM,KAC1BT,EAAQ,kBAAkBU,CAAW,EAAE,KAAK,CAAC,CAAC,QAAAL,EAAS,MAAAC,CAAK,IAAM,CAC9D,MAAMC,EAASb,EAAkBW,CAAO,EACxCN,EAAQ,UAAYQ,CAC5B,EACA,CACAT,EAAW,iBAAiB,SAASa,CAAc,EAEnD,SAASA,EAAeF,EAAM,CAC9BA,EAAM,eAAgB,EACtB,MAAMG,EAAcH,EAAM,OAAO,SAAS,MAAM,MAAM,OACjDG,IACLZ,EAAQ,MAAMY,EACdT,EAAW,IAAI,YAAYK,GAC3BL,EAAW,IAAI,YAAYU,GAC3Bb,EAAQ,iBAAiBb,CAAI,EAC5B,KAAK,CAAC,CAAC,QAAAkB,EAAS,MAAAC,CAAK,IAAM,CACxB,GAAID,EAAQ,SAAS,EAAG,OACxB,MAAME,EAASb,EAAkBW,CAAO,EAExCF,EAAW,MAAMG,CAAK,EACtBP,EAAQ,UAAYQ,CACxB,GACAJ,EAAW,GAAG,YAAYU,GAC1B,CAEA,SAASA,EAASJ,EAAM,CACpB,MAAMC,EAAcD,EAAM,KAC1BT,EAAQ,iBAAiBU,CAAW,EAAE,KAAK,CAAC,CAAC,QAAAL,EAAS,MAAAC,CAAK,IAAM,CAC7D,MAAMC,EAASb,EAAkBW,CAAO,EACxCN,EAAQ,UAAYQ,CAC5B,EACA"}